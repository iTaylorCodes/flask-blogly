{% extends 'base.html' %} {% block title %}User{% endblock %} {% block content %}

<div class="container card flex-row flex-wrap">
	<div class="card-header">
		{% if user.image_url %}
		<img src="{{user.image_url}}" alt="User image" class="img-thumbnail" style="max-width: 300px; height: auto" />
		{% else %}
		<img
			src="https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg"
			alt="Default User image"
			class="img-thumbnail"
			style="width: 200px; height: auto"
		/>
		{% endif %}
	</div>

	<div class="card-body px-2 pt-5">
		<h1 class="card-title">{{user.first_name}} {{user.last_name}}</h1>

		<form class="pb-5">
			<button formaction="/users/{{user.id}}/edit" formmethod="GET" class="btn btn-primary btn-sm">Edit</button>

			<button formaction="/users/{{user.id}}/delete" formmethod="POST" class="btn btn-danger btn-sm">
				Delete
			</button>
		</form>

		<h2>Posts</h2>

		<ul>
			{% for post in user.posts %}
			<li><a href="/posts/{{post.id}}">{{post.title}}</a><small> Created:{{post.friendly_date}}</small></li>
			{% endfor %}
		</ul>

		<a href="/users/{{user.id}}/posts/new"><button class="btn btn-primary btn-sm">Add Post</button></a>
	</div>
</div>
{% endblock %}
